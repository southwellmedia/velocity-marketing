---
/**
 * MarketingFooter
 * Purpose-built footer for the Velocity marketing page.
 * Matches the editorial aesthetic of the Showcase and other premium sections —
 * near-black background, noise texture, brand accent details, refined typography.
 */
import Logo from '@/components/ui/marketing/Logo/Logo.astro';
import Icon from '@/components/ui/primitives/Icon/Icon.astro';
import siteConfig from '@/config/site.config';
import swmLogo from '@/assets/branding/swm-grayscale.svg';

const year = new Date().getFullYear();

const linkGroups = [
  {
    title: 'Product',
    links: [
      { label: 'Features', href: '/#features' },
      { label: 'Showcase', href: '/#showcase' },
      { label: 'Templates', href: '/#templates' },
      { label: 'Pricing', href: '/#templates' },
    ],
  },
  {
    title: 'Resources',
    links: [
      { label: 'Documentation', href: 'https://docs.deployvelocity.com', external: true },
      { label: 'GitHub', href: 'https://github.com/southwellmedia/velocity', external: true },
      { label: 'Blog', href: '/blog' },
      { label: 'Changelog', href: '/blog' },
    ],
  },
  {
    title: 'Company',
    links: [
      { label: 'About', href: '/about' },
      { label: 'Contact', href: 'mailto:hello@velocity.build' },
      { label: 'Privacy', href: '/privacy' },
      { label: 'Terms', href: '/terms' },
    ],
  },
];

const socialLinks = [
  { platform: 'github', href: 'https://github.com/southwellmedia/velocity', label: 'GitHub' },
];
---

<footer
  class="invert-section bg-noise relative overflow-hidden"
  style={`background-color: oklch(7% 0 0); padding-top: var(--space-section); padding-bottom: 0;`}
>
  {/* Subtle brand glow at top — mirrors Showcase's bottom glow */}
  <div
    class="absolute inset-0 pointer-events-none"
    style="background: radial-gradient(ellipse 60% 30% at 50% 0%, rgba(249,76,16,0.04) 0%, transparent 70%);"
    aria-hidden="true"
  ></div>

  <div class="container relative">
    {/* ------------------------------------------------------------------ */}
    {/* Top section: Brand moment + link columns                           */}
    {/* ------------------------------------------------------------------ */}
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 lg:gap-8">

      {/* Brand column — large logo wordmark + tagline */}
      <div class="lg:col-span-5">
        <a href="/" class="inline-flex items-center gap-3 group" aria-label="Velocity home">
          <Logo size="lg" forceDark={true} />
          <span
            class="font-display font-bold text-foreground tracking-tight"
            style="font-size: var(--text-2xl);"
          >
            {siteConfig.name}
          </span>
        </a>

        <p class="mt-4 text-sm leading-relaxed text-foreground-muted max-w-sm">
          The production-ready Astro 6 starter kit with 57+ components,
          design tokens, and everything you need to ship faster.
        </p>

        {/* Social links */}
        <div class="mt-6 flex items-center gap-4">
          {socialLinks.map((social) => (
            <a
              href={social.href}
              class="flex items-center justify-center h-9 w-9 rounded-lg border border-border text-foreground-subtle hover:text-foreground hover:border-border-strong transition-colors duration-300"
              target="_blank"
              rel="noopener noreferrer"
              aria-label={social.label}
            >
              <Icon name={social.platform} size="sm" />
            </a>
          ))}
        </div>
      </div>

      {/* Link columns */}
      <div class="lg:col-span-7 grid grid-cols-2 sm:grid-cols-3 gap-8">
        {linkGroups.map((group) => (
          <div>
            <h3 class="text-xs font-mono uppercase tracking-widest text-foreground-subtle mb-4">
              {group.title}
            </h3>
            <ul class="space-y-2.5" role="list">
              {group.links.map((link) => (
                <li>
                  <a
                    href={link.href}
                    class="inline-flex items-center gap-1.5 text-sm text-foreground-muted hover:text-foreground transition-colors duration-300"
                    target={link.external ? '_blank' : undefined}
                    rel={link.external ? 'noopener noreferrer' : undefined}
                  >
                    {link.label}
                    {link.external && (
                      <svg
                        class="w-3 h-3 opacity-40"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                        stroke-width="1.5"
                        aria-hidden="true"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"
                        />
                      </svg>
                    )}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </div>

    {/* ------------------------------------------------------------------ */}
    {/* Bottom bar: separator + copyright + legal                          */}
    {/* ------------------------------------------------------------------ */}
    <div class="mt-16 pt-6 border-t border-border">
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pb-8">
        <p class="text-xs text-foreground-subtle">
          &copy; {year} {siteConfig.name}. All rights reserved.
        </p>

        <a
          href="https://southwell.media"
          class="inline-flex items-center gap-3 group"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Southwell Media"
        >
          <span class="text-xs text-foreground-subtle group-hover:text-foreground-muted transition-colors duration-300">
            Maintained by
          </span>
          <img
            src={swmLogo.src}
            alt="Southwell Media"
            class="h-3.5 w-auto opacity-40 group-hover:opacity-60 transition-opacity duration-300"
          />
        </a>
      </div>
    </div>
  </div>
</footer>
