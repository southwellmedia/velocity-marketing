---
/**
 * MarketingIcon — Custom hand-crafted SVG icons for the marketing landing page.
 * Each icon uses multiple SVG primitives for richer visual character,
 * designed to render cleanly at 16–20px with a 24x24 viewBox.
 *
 * Usage:
 *   <MarketingIcon name="mkt-speed" size="sm" />
 */
import { cn } from '@/lib/cn';

interface Props {
  name: string;
  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';
  class?: string;
  strokeWidth?: number;
}

const { name, size = 'md', class: className, strokeWidth = 2 } = Astro.props;

const sizes = {
  xs: 'w-3 h-3',
  sm: 'w-4 h-4',
  md: 'w-5 h-5',
  lg: 'w-6 h-6',
  xl: 'w-8 h-8',
};

/**
 * Each icon is encoded as an SVG inner HTML string.
 * Using innerHTML avoids Astro JSX type conflicts with SVG element spreading.
 * All icons use stroke="currentColor" by default (inherited from the parent <svg>).
 * Elements that need fill="currentColor" or stroke="none" specify them inline.
 */
const icons: Record<string, string> = {
  /**
   * mkt-tokens — Design Token System
   * Three cascading swatch chips stepping diagonally up-right,
   * each with a small filled dot representing a token value.
   */
  'mkt-tokens': `
    <rect x="2" y="15" width="14" height="5" rx="2"/>
    <rect x="6" y="10" width="14" height="5" rx="2"/>
    <rect x="10" y="5" width="12" height="5" rx="2"/>
    <circle cx="5" cy="17.5" r="1.5" fill="currentColor" stroke="none"/>
    <circle cx="9" cy="12.5" r="1.5" fill="currentColor" stroke="none"/>
    <circle cx="13" cy="7.5" r="1.5" fill="currentColor" stroke="none"/>
  `,

  /**
   * mkt-globe — Built-in i18n
   * Globe with elliptical meridian, equator, latitude bands, and a
   * dashed routing arc connecting two location dots (locale routing).
   */
  'mkt-globe': `
    <circle cx="12" cy="12" r="10"/>
    <ellipse cx="12" cy="12" rx="4" ry="10" fill="none"/>
    <line x1="2" y1="12" x2="22" y2="12"/>
    <line x1="4.5" y1="7" x2="19.5" y2="7"/>
    <line x1="4.5" y1="17" x2="19.5" y2="17"/>
    <circle cx="8" cy="7" r="1.5" fill="currentColor" stroke="none"/>
    <circle cx="16" cy="16" r="1.5" fill="currentColor" stroke="none"/>
    <path d="M9 7.5 Q12 10 15.2 15.5" fill="none" stroke-dasharray="2.5 2"/>
  `,

  /**
   * mkt-shield — Consent & GDPR
   * Shield with an embedded padlock — conveys protection and trusted consent.
   */
  'mkt-shield': `
    <path d="M12 2.5l8 3v5.5c0 5-3.6 9.7-8 11-4.4-1.3-8-6-8-11V5.5l8-3z" fill="none"/>
    <rect x="9.5" y="12" width="5" height="4.5" rx="1" fill="none"/>
    <path d="M10.5 12v-1.5a1.5 1.5 0 0 1 3 0V12" fill="none"/>
    <circle cx="12" cy="14.2" r="0.8" fill="currentColor" stroke="none"/>
  `,

  /**
   * mkt-content — Content & Search
   * A document inside a magnifying glass lens with ruled lines.
   * Merges content management and static search into one mark.
   */
  'mkt-content': `
    <circle cx="11" cy="11" r="8"/>
    <line x1="17" y1="17" x2="22" y2="22"/>
    <path d="M8 7.5h4l1.5 1.5v7H8V7.5z" fill="none"/>
    <path d="M12 7.5v1.5h1.5" fill="none"/>
    <line x1="9.5" y1="11" x2="12" y2="11"/>
    <line x1="9.5" y1="13" x2="12" y2="13"/>
    <line x1="9.5" y1="15" x2="11" y2="15"/>
  `,

  /**
   * mkt-components — 57+ Production Components
   * A 2x2 grid of rounded module tiles with a central plus connector
   * and accent dots — conveys a rich modular component library.
   */
  'mkt-components': `
    <rect x="2" y="2" width="8.5" height="8.5" rx="1.5"/>
    <rect x="13.5" y="2" width="8.5" height="8.5" rx="1.5"/>
    <rect x="2" y="13.5" width="8.5" height="8.5" rx="1.5"/>
    <rect x="13.5" y="13.5" width="8.5" height="8.5" rx="1.5"/>
    <line x1="10.5" y1="12" x2="13.5" y2="12"/>
    <line x1="12" y1="10.5" x2="12" y2="13.5"/>
    <circle cx="6.25" cy="6.25" r="1.5" fill="currentColor" stroke="none"/>
    <circle cx="17.75" cy="17.75" r="1.5" fill="currentColor" stroke="none"/>
  `,

  /**
   * mkt-speed — Built for Speed / Performance
   * Speedometer arc with three tick marks, a needle at maximum speed,
   * a center pivot dot, and a small lightning bolt accent.
   */
  'mkt-speed': `
    <path d="M4.5 18.5a10 10 0 0 1 15 0" fill="none"/>
    <line x1="4.5" y1="18.5" x2="6.5" y2="18.5"/>
    <line x1="12" y1="8.5" x2="12" y2="10.5"/>
    <line x1="19.5" y1="18.5" x2="17.5" y2="18.5"/>
    <line x1="12" y1="18" x2="17.5" y2="11"/>
    <circle cx="12" cy="18" r="1.8" fill="currentColor" stroke="none"/>
    <path d="M18 5.5l-2 3h1.5L16 11" fill="none" stroke-width="1.5"/>
  `,

  /**
   * mkt-seo — SEO & Dynamic OG Images
   * Magnifying glass with an upward-trending analytics line in the lens,
   * plus broadcast arcs at top-right for social/OG sharing.
   */
  'mkt-seo': `
    <circle cx="10.5" cy="10.5" r="7.5"/>
    <line x1="16.5" y1="16.5" x2="22" y2="22"/>
    <path d="M5.5 13.5L8 10.5L11 12L14 7.5" fill="none"/>
    <path d="M18 5a3 3 0 0 1 0 4" fill="none"/>
    <path d="M19.5 3.5a5.5 5.5 0 0 1 0 7" fill="none"/>
  `,

  /**
   * mkt-code — Zero JavaScript
   * Terminal window with title bar, window-control dots, a prompt chevron,
   * cursor line, and a zero ellipse — visualises zero JS shipped.
   */
  'mkt-code': `
    <rect x="2" y="3" width="20" height="18" rx="3"/>
    <line x1="2" y1="9" x2="22" y2="9"/>
    <circle cx="6" cy="6" r="1.2" fill="currentColor" stroke="none"/>
    <circle cx="10" cy="6" r="1.2" fill="currentColor" stroke="none"/>
    <circle cx="14" cy="6" r="1.2" fill="currentColor" stroke="none"/>
    <path d="M6 13.5l3-1.5-3-1.5" fill="none"/>
    <line x1="11" y1="12" x2="11" y2="15"/>
    <ellipse cx="18" cy="15.5" rx="2.5" ry="3" fill="none"/>
  `,
};

const innerSVG = icons[name] ?? icons['mkt-code'];
---

<svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width={strokeWidth}
  stroke-linecap="round"
  stroke-linejoin="round"
  class={cn(sizes[size], 'shrink-0', className)}
  aria-hidden="true"
  set:html={innerSVG}
/>
