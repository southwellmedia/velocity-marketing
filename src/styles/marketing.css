/* =============================================================================
   Marketing Page Styles
   Atmospheric effects, bento grid, and marketing-specific animations
   ============================================================================= */

@layer utilities {
  /* Large radial gradient bloom — International Orange at low opacity */
  .bg-glow-orange {
    background: radial-gradient(
      ellipse 80% 60% at 50% 40%,
      rgba(249, 76, 16, 0.15) 0%,
      transparent 70%
    );
  }

  /* Subtle noise texture overlay via SVG data URI */
  .bg-noise {
    position: relative;
  }

  .bg-noise::after {
    content: '';
    position: absolute;
    inset: 0;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    background-repeat: repeat;
    background-size: 256px 256px;
    pointer-events: none;
    z-index: 0;
  }

  /* Gradient fade to transparent at bottom */
  .bg-fade-bottom {
    mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
  }

  /* Bento grid layout — mobile-first, 3-col asymmetric desktop */

  /* Mobile: single column, natural stacking order */
  .bento-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  /* Tablet: 2-col, wide cards span full width */
  @media (min-width: 640px) {
    .bento-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1.25rem;
    }

    /* Components (card 5) and SEO (card 7) — need horizontal space */
    .bento-grid > :nth-child(5),
    .bento-grid > :nth-child(7) {
      grid-column: span 2;
    }
  }

  /* Desktop: 3-col asymmetric bento layout
   *
   * Resulting grid (3 cols × 3 rows):
   * ┌──────────────┬──────────────┬──────────────┐
   * │ Design Tokens│     i18n     │   Consent    │
   * │   (1×1)      │    (1×1)     │   (1×1)      │
   * ├──────────────┴──────────────┬──────────────┤
   * │   57+ Components (2×1)      │Content&Search│
   * │                             │   (1×1)      │
   * ├──────────────┬──────────────┴──────────────┤
   * │    Speed     │   SEO & OG Images (2×1)     │
   * │   (1×1)      │                             │
   * └──────────────┴─────────────────────────────┘
   */
  @media (min-width: 1024px) {
    .bento-grid {
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: auto auto auto;
      gap: 1.5rem;
    }

    /* Card 1: Design Tokens — col 1, row 1 */
    .bento-grid > :nth-child(1) {
      grid-column: 1;
      grid-row: 1;
    }

    /* Card 2: i18n — col 2, row 1 */
    .bento-grid > :nth-child(2) {
      grid-column: 2;
      grid-row: 1;
    }

    /* Card 3: Consent/GDPR — col 3, row 1 */
    .bento-grid > :nth-child(3) {
      grid-column: 3;
      grid-row: 1;
    }

    /* Card 4: Content & Search — col 3, row 2 */
    .bento-grid > :nth-child(4) {
      grid-column: 3;
      grid-row: 2;
    }

    /* Card 5: 57+ Components — cols 1–2, row 2 (wide) */
    .bento-grid > :nth-child(5) {
      grid-column: 1 / 3;
      grid-row: 2;
    }

    /* Card 6: Speed/Performance — col 1, row 3 */
    .bento-grid > :nth-child(6) {
      grid-column: 1;
      grid-row: 3;
    }

    /* Card 7: SEO & OG Images — cols 2–3, row 3 (wide) */
    .bento-grid > :nth-child(7) {
      grid-column: 2 / 4;
      grid-row: 3;
    }
  }

  /* Floating / breathing animation for hero visual */
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px) rotate(2deg);
    }
    50% {
      transform: translateY(-12px) rotate(2deg);
    }
  }

  /* Count-up reveal animation */
  .animate-count-up {
    animation: count-reveal 0.6s ease-out forwards;
  }

  @keyframes count-reveal {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Glass card effect for bento */
  .glass-card {
    background: var(--color-card);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    overflow: hidden;
    transition: border-color var(--transition-normal) var(--ease-default),
                box-shadow var(--transition-normal) var(--ease-default);
  }

  .glass-card:hover {
    border-color: var(--color-brand-500);
    box-shadow: 0 0 40px rgba(249, 76, 16, 0.08);
  }

  /* Browser frame mockup */
  .browser-frame {
    border-radius: var(--radius-xl);
    border: 1px solid var(--color-border);
    overflow: hidden;
    transition: border-color var(--transition-normal) var(--ease-default),
                box-shadow var(--transition-normal) var(--ease-default);
  }

  .browser-frame:hover {
    border-color: var(--color-brand-500);
    box-shadow: 0 0 40px rgba(249, 76, 16, 0.08);
  }

  /* Spotlight overlay z-index layering for parallax cards */
  [data-bento-card] {
    isolation: isolate;
  }

  /* Float delay utilities for staggered icon animations */
  .float-delay-1 { animation-delay: 0.2s; }
  .float-delay-2 { animation-delay: 0.4s; }
  .float-delay-3 { animation-delay: 0.6s; }
  .float-delay-4 { animation-delay: 0.8s; }
  .float-delay-5 { animation-delay: 1.0s; }

  /* Reduced motion: disable marketing animations */
  @media (prefers-reduced-motion: reduce) {
    .animate-float {
      animation: none;
    }
    .animate-count-up {
      animation: none;
      opacity: 1;
    }
  }
}
